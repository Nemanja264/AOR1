.386
.model flat,c
.data
mat word 4,6,0,4
	word 2,2,1,3
	word 1,9,7,2
	word 6,1,2,1
	word 3,2,6,8
n word 4 ; vrste
m word 5 ; kolone
brel byte ?
el word ?

.code
main proc

mov ecx,0
mov cx,n
mov esi,0 ; i


movzx edx,n
sub edx,2
shl edx,1 ; 2(n-2)

movzx eax,n
shl eax,1 ; 2n

movzx edi,n
shl edi,1
push edi ; 2n // ebx+=8

push ebp
mov ebp,esp ; vrh steka

mov di, mat[edx][eax]
mov dl,0 ; brel

spoljasnja:

mov ebx,0 ; j
mov ax,0 ; broj prolazaka kroz unutrasnju petlju

unutrasnja:

cmp mat[ebx][esi], di
jbe dole
inc dl ; brel++
dole:

inc ax
add ebx,[ebp+4] ; ebx+=8
cmp ax,m
jb unutrasnja

add esi,2 ; esi+=2
loop spoljasnja

mov brel,dl
pop ebp
pop edi
ret
main endp
end main
